<!DOCTYPE html>
<html>
<head>
  <title>Game Klik</title>
</head>
<body style="text-align:center;margin-top:50px">

<h1>ğŸ® GAME KLIK</h1>

<p>Waktu: <span id="waktu">10</span> detik</p>
<p>Skor: <span id="skor">0</span></p>
<p>ğŸ† High Score: <span id="high">0</span></p>

<button id="btn">KLIK</button>
<br><br>
<button id="ulang" style="display:none;">MAIN LAGI</button>

<script>
let skor = 0;
let waktu = 10;
let jalan = false;
let interval;

// ambil high score dari localStorage
let highScore = localStorage.getItem("highScore");
if (highScore === null) {
  highScore = 0;
  localStorage.setItem("highScore", 0);
}

document.getElementById("high").innerText = highScore;

const btn = document.getElementById("btn");
const ulang = document.getElementById("ulang");

btn.addEventListener("click", () => {
  if (waktu <= 0) return;

  if (!jalan) {
    jalan = true;
    interval = setInterval(() => {
      waktu--;
      document.getElementById("waktu").innerText = waktu;

      if (waktu === 0) {
        clearInterval(interval);
        btn.disabled = true;
        ulang.style.display = "inline";

        // cek high score
        if (skor > highScore) {
          highScore = skor;
          localStorage.setItem("highScore", highScore);
          document.getElementById("high").innerText = highScore;
          alert("ğŸ‰ HIGH SCORE BARU: " + skor);
        } else {
          alert("Selesai! Skor: " + skor);
        }
      }
    }, 1000);
  }

  skor++;
  document.getElementById("skor").innerText = skor;
});

ulang.addEventListener("click", () => {
  skor = 0;
  waktu = 10;
  jalan = false;

  document.getElementById("skor").innerText = skor;
  document.getElementById("waktu").innerText = waktu;

  btn.disabled = false;
  ulang.style.display = "none";
});
</script>

</body>
</html>
